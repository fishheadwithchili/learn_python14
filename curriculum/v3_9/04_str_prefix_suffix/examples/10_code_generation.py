"""
åœºæ™¯ 10ï¼šä»£ç ç”Ÿæˆ

åº”ç”¨ï¼šç§»é™¤ä»£ç æ¨¡æ¿æ ‡è®°ï¼Œå¤„ç†ä»£ç æ³¨é‡Šï¼Œæå–ä»£ç ç‰‡æ®µ
"""

# æµ‹è¯•æ•°æ®
code_snippets = [
    "// TODO: Implement this function",
    "# FIXME: Bug in login logic",
    "/* NOTE: This is important */",
    "// Generated code - DO NOT EDIT",
    "Regular code comment"
]

function_signatures = [
    "def test_user_login():",
    "def test_password_reset():",
    "async def fetch_data():",
    "staticmethod def helper():"
]

variable_declarations = [
    "private string m_userName;",
    "public int count;",
    "protected bool isActive;",
    "const int MAX_SIZE = 100;"
]

print("=" * 60)
print("åœºæ™¯ 10ï¼šä»£ç ç”Ÿæˆå’Œå¤„ç†")
print("=" * 60)

# ç¤ºä¾‹ 1ï¼šæå– TODO/FIXME æ³¨é‡Š
print("\n[ç¤ºä¾‹ 1] æå–å¾…åŠäº‹é¡¹æ³¨é‡Šï¼š\n")

tags = ["TODO:", "FIXME:", "NOTE:", "HACK:", "XXX:"]
comment_prefixes = ["//", "#", "/*", "*/"]

for snippet in code_snippets:
    # ç§»é™¤æ³¨é‡Šç¬¦å·
    content = snippet
    for prefix in comment_prefixes:
        content = content.removeprefix(prefix).strip()
    
    # æ£€æµ‹æ ‡ç­¾
    tag_found = None
    message = content
    
    for tag in tags:
        if content.startswith(tag):
            tag_found = tag.removesuffix(":")
            message = content.removeprefix(tag).strip()
            break
    
    if tag_found:
        print(f"  [{tag_found}] {message}")
        print(f"    åŸå§‹: {snippet}")

# ç¤ºä¾‹ 2ï¼šç§»é™¤æµ‹è¯•å‡½æ•°å‰ç¼€
print("\n[ç¤ºä¾‹ 2] æå–æµ‹è¯•å‡½æ•°åï¼š\n")

for func_sig in function_signatures:
    # ç§»é™¤å‡½æ•°å®šä¹‰å…³é”®å­—
    func_name = (func_sig
                 .removeprefix("def ")
                 .removeprefix("async def ")
                 .removeprefix("staticmethod def "))
    
    # ç§»é™¤å‚æ•°éƒ¨åˆ†
    if "(" in func_name:
        func_name = func_name.split("(")[0]
    
    # ç§»é™¤ test_ å‰ç¼€
    clean_name = func_name.removeprefix("test_")
    
    if clean_name != func_name:
        print(f"  æµ‹è¯•: {func_sig}")
        print(f"    æµ‹è¯•ç›®æ ‡: {clean_name}")

# ç¤ºä¾‹ 3ï¼šç§»é™¤è®¿é—®ä¿®é¥°ç¬¦
print("\n[ç¤ºä¾‹ 3] æå–å˜é‡åï¼ˆç§»é™¤ä¿®é¥°ç¬¦ï¼‰ï¼š\n")

access_modifiers = ["private ", "public ", "protected ", "static ", "const "]

for var_decl in variable_declarations:
    # ç§»é™¤è®¿é—®ä¿®é¥°ç¬¦
    clean_decl = var_decl
    removed_modifiers = []
    
    for modifier in access_modifiers:
        if clean_decl.startswith(modifier):
            removed_modifiers.append(modifier.strip())
            clean_decl = clean_decl.removeprefix(modifier)
    
    # æå–å˜é‡å
    if " " in clean_decl:
        var_type, rest = clean_decl.split(" ", 1)
        var_name = rest.split("=")[0].strip().rstrip(";")
        
        print(f"  åŸå§‹: {var_decl}")
        print(f"    ä¿®é¥°ç¬¦: {removed_modifiers}")
        print(f"    ç±»å‹: {var_type}")
        print(f"    å˜é‡å: {var_name}")

# ç¤ºä¾‹ 4ï¼šä»£ç æ¨¡æ¿å¤„ç†
print("\n[ç¤ºä¾‹ 4] ä»£ç æ¨¡æ¿æ ‡è®°ç§»é™¤ï¼š\n")

template_code = [
    "// <auto-generated>",
    "// This file was generated by a tool.",
    "// </auto-generated>",
    "class MyClass {",
    "    // Actual code",
    "}"
]

print("ç§»é™¤ç”Ÿæˆæ ‡è®°:")
for line in template_code:
    # æ£€æµ‹è‡ªåŠ¨ç”Ÿæˆæ ‡è®°
    if line.strip().startswith("//") and ("auto-generated" in line or "generated by" in line):
        print(f"  (ç§»é™¤) {line}")
    else:
        print(f"  (ä¿ç•™) {line}")

# ç¤ºä¾‹ 5ï¼šç§»é™¤æ–‡ä»¶å¤´æ³¨é‡Š
print("\n[ç¤ºä¾‹ 5] å¤„ç†æ–‡ä»¶å¤´ç‰ˆæƒæ³¨é‡Šï¼š\n")

file_header = [
    "#!/usr/bin/env python",
    "# -*- coding: utf-8 -*-",
    "#",
    "# Copyright (c) 2023 Company Name",
    "# All rights reserved.",
    "#",
    "",
    "import os",
    "import sys"
]

print("æå–å®é™…ä»£ç ï¼ˆè·³è¿‡å¤´éƒ¨ï¼‰:")
in_header = True
for line in file_header:
    is_comment = line.strip().startswith("#") or line.strip().startswith("//")
    is_empty = line.strip() == ""
    is_shebang = line.startswith("#!")
    is_encoding = "-*-" in line
    
    if in_header and (is_comment or is_empty or is_shebang or is_encoding):
        continue
    else:
        in_header = False
        if line.strip():
            print(f"  {line}")

# ç¤ºä¾‹ 6ï¼šSQL æ³¨é‡Šå¤„ç†
print("\n[ç¤ºä¾‹ 6] SQL æ³¨é‡Šå¤„ç†ï¼š\n")

sql_lines = [
    "-- This is a comment",
    "SELECT * FROM users",
    "-- WHERE clause",
    "WHERE active = 1;"
]

print("ç§»é™¤ SQL æ³¨é‡Š:")
for line in sql_lines:
    clean_line = line
    
    # ç§»é™¤ -- æ³¨é‡Š
    if "--" in line:
        clean_line = line.split("--")[0].strip()
    
    if clean_line:
        print(f"  {clean_line}")

# ç¤ºä¾‹ 7ï¼šæå–æ–¹æ³•ä½“
print("\n[ç¤ºä¾‹ 7] æå–æ–¹æ³•ä½“ï¼ˆç§»é™¤ä¿®é¥°ç¬¦ï¼‰ï¼š\n")

method_definitions = [
    "@staticmethod",
    "@cached_property",
    "def calculate_total(self, items):",
    "    return sum(items)"
]

print("å¤„ç†æ–¹æ³•å®šä¹‰:")
for i, line in enumerate(method_definitions):
    # ç§»é™¤è£…é¥°å™¨
    if line.strip().startswith("@"):
        print(f"  è£…é¥°å™¨: {line.strip()}")
    elif line.strip().startswith("def "):
        method_sig = line.strip().removeprefix("def ")
        print(f"  æ–¹æ³•ç­¾å: {method_sig}")
    else:
        print(f"  æ–¹æ³•ä½“: {line}")

# ç¤ºä¾‹ 8ï¼šå‘½åç©ºé—´å¤„ç†
print("\n[ç¤ºä¾‹ 8] å‘½åç©ºé—´/åŒ…åå¤„ç†ï¼š\n")

fully_qualified_names = [
    "com.example.myapp.MainActivity",
    "org.apache.commons.lang.StringUtils",
    "java.util.List"
]

print("æå–ç±»å:")
for fqn in fully_qualified_names:
    parts = fqn.split(".")
    package = ".".join(parts[:-1])
    class_name = parts[-1]
    
    print(f"  å®Œæ•´åç§°: {fqn}")
    print(f"    åŒ…å: {package}")
    print(f"    ç±»å: {class_name}")

# ç¤ºä¾‹ 9ï¼šæå–ä»£ç å—
print("\n[ç¤ºä¾‹ 9] Markdown ä»£ç å—æå–ï¼š\n")

markdown_code_block = [
    "```python",
    "def hello():",
    "    print('Hello, World!')",
    "```"
]

code_start = "```python"
code_end = "```"

in_code_block = False
code_lines = []

for line in markdown_code_block:
    if line.strip() == code_start:
        in_code_block = True
        print("  (ä»£ç å—å¼€å§‹)")
    elif line.strip() == code_end:
        in_code_block = False
        print("  (ä»£ç å—ç»“æŸ)")
    elif in_code_block:
        print(f"  ä»£ç : {line}")

print("\nğŸ’¡ æ€»ç»“ï¼šremoveprefix/removesuffix ç®€åŒ–ä»£ç è§£æå’Œç”Ÿæˆ")

